/* ZURT Design System v3.0 — Midnight Theme
   Geist (body) + Geist Mono (numbers/data)
   Color palette: deep navy midnight with electric blue accent */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Midnight palette */
    --bg: #060A14;
    --surface-1: #0A0F1A;
    --surface-2: #0F1525;
    --surface-3: #141C2E;
    --border-1: #1A2440;
    --border-2: #243055;
    --text-1: #E2E8F0;
    --text-2: #8896B0;
    --text-3: #4A5878;
    --text-4: #2A3652;
    --accent: #3B82F6;
    --accent-glow: rgba(59, 130, 246, 0.094);
    --green: #22C55E;
    --green-glow: rgba(34, 197, 94, 0.094);
    --red: #EF4444;
    --red-glow: rgba(239, 68, 68, 0.094);
    --silver: #94A3B8;

    /* shadcn/radix compatibility tokens */
    --background: 222 47% 5%;
    --foreground: 214 32% 91%;
    --card: 222 33% 7%;
    --card-foreground: 214 32% 91%;
    --popover: 222 38% 6%;
    --popover-foreground: 214 32% 91%;
    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 222 24% 11%;
    --secondary-foreground: 215 20% 65%;
    --muted: 222 22% 13%;
    --muted-foreground: 217 15% 46%;
    --accent: 217 91% 60%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 222 30% 17%;
    --input: 222 24% 11%;
    --ring: 217 91% 60%;
    --radius: 0.5rem;
    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;
    --info: 217 91% 60%;
    --info-foreground: 0 0% 100%;

    --shadow-card: 0 1px 3px rgba(0,0,0,0.3), 0 0 0 1px var(--border-1);
    --shadow-card-hover: 0 8px 24px rgba(0,0,0,0.4), 0 0 0 1px rgba(59,130,246,0.15);
    --shadow-glow: 0 0 24px rgba(59,130,246,0.12);

    --sidebar-background: 222 47% 4%;
    --sidebar-foreground: 217 15% 46%;
    --sidebar-primary: 217 91% 60%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 222 24% 11%;
    --sidebar-accent-foreground: 214 32% 91%;
    --sidebar-border: 222 30% 12%;
    --sidebar-ring: 217 91% 60%;
    --sidebar-section: 217 12% 36%;
    --sidebar-active-bg: 217 91% 60% / 0.08;
  }

  .light {
    --background: 220 20% 97%;
    --foreground: 222 25% 12%;
    --card: 0 0% 100%;
    --card-foreground: 222 25% 12%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 25% 12%;
    --primary: 217 91% 55%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220 15% 93%;
    --secondary-foreground: 222 20% 30%;
    --muted: 220 15% 93%;
    --muted-foreground: 217 12% 50%;
    --border: 220 15% 88%;
    --input: 220 15% 93%;
    --ring: 217 91% 55%;
    --success: 142 65% 38%;
    --warning: 38 90% 48%;
    --info: 217 91% 55%;
    --shadow-card: 0 1px 3px rgba(0,0,0,0.05), 0 0 0 1px rgba(0,0,0,0.04);
    --shadow-card-hover: 0 8px 24px rgba(0,0,0,0.08), 0 0 0 1px rgba(59,130,246,0.12);
    --shadow-glow: 0 0 24px rgba(59,130,246,0.08);
  }

  * { @apply border-border; }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Geist', system-ui, -apple-system, sans-serif;
    text-rendering: optimizeLegibility;
    line-height: 1.6;
  }

  html { color-scheme: dark; scroll-behavior: smooth; }
  html.light { color-scheme: light; }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Geist', system-ui, sans-serif;
    @apply font-bold tracking-tight;
    line-height: 1.2;
  }

  ::selection { background: rgba(59,130,246,0.25); color: var(--text-1); }
  :focus-visible { outline: 2px solid hsl(var(--ring)); outline-offset: 2px; border-radius: var(--radius); }
}

@layer components {
  /* KPI cards */
  .kpi-card {
    @apply rounded-lg p-4 transition-all duration-300 h-full relative overflow-hidden;
    background: var(--surface-1);
    border: 1px solid var(--border-1);
    min-height: 100px;
  }
  .kpi-card:hover {
    border-color: var(--border-2);
    transform: translateY(-1px);
    box-shadow: var(--shadow-card-hover);
  }

  /* Chart card */
  .chart-card {
    @apply rounded-lg p-5 transition-all duration-300;
    background: var(--surface-1);
    border: 1px solid var(--border-1);
  }
  .chart-card:hover { box-shadow: var(--shadow-card-hover); }

  /* Alert card */
  .alert-card {
    @apply rounded-lg p-4 transition-all duration-200;
    background: var(--surface-1);
    border: 1px solid var(--border-1);
  }
  .alert-card:hover { border-color: var(--border-2); }

  /* Settings card */
  .settings-card {
    @apply rounded-lg p-5 transition-all duration-200;
    background: var(--surface-1);
    border: 1px solid var(--border-1);
  }
  .settings-card button.inline-flex { border-radius: 5px !important; }
  .settings-card button[role="switch"] { border-radius: 5px !important; }
  .settings-card button[role="switch"] span { border-radius: 3px !important; }

  /* Feature card */
  .feature-card {
    @apply rounded-lg p-6 transition-all duration-300 relative overflow-hidden;
    background: var(--surface-1);
    border: 1px solid var(--border-1);
  }
  .feature-card:hover {
    border-color: var(--border-2);
    transform: translateY(-2px);
    box-shadow: var(--shadow-card-hover);
  }

  /* Credit card */
  .card-3d-wrapper { perspective: 800px; perspective-origin: center center; transform-style: preserve-3d; }
  .card-3d-wrapper-lg { perspective: 1000px; perspective-origin: 50% 40%; transform-style: preserve-3d; }
  .credit-card-visual {
    border-radius: 12px; padding: 0.875rem 1rem; aspect-ratio: 1.586;
    width: 210px; min-width: 210px; color: white; position: relative; overflow: hidden;
    transform: rotateY(-8deg) rotateX(3deg); transform-style: preserve-3d;
    transition: transform 0.4s cubic-bezier(0.25,0.46,0.45,0.94), box-shadow 0.4s;
    box-shadow: 1px 1px 0 0 rgba(15,25,50,0.95), 2px 2px 0 0 rgba(12,20,42,0.90),
      3px 3px 0 0 rgba(10,16,35,0.85), 8px 14px 28px rgba(0,0,0,0.50),
      inset 0 1px 0 rgba(255,255,255,0.12);
  }
  .credit-card-visual:hover { transform: rotateY(-2deg) rotateX(1deg) scale(1.02); }
  .credit-card-visual-lg {
    border-radius: 16px; padding: 1.5rem 1.75rem; aspect-ratio: 1.586;
    width: 100%; color: white; position: relative; overflow: hidden;
    transform: rotateY(-10deg) rotateX(4deg); transform-style: preserve-3d;
    transition: transform 0.5s cubic-bezier(0.25,0.46,0.45,0.94), box-shadow 0.5s;
    box-shadow: 1px 1px 0 0 rgba(15,25,50,0.95), 3px 3px 0 0 rgba(11,19,40,0.88),
      14px 20px 44px rgba(0,0,0,0.55), inset 0 1px 0 rgba(255,255,255,0.14);
  }
  .credit-card-visual-lg:hover { transform: rotateY(-3deg) rotateX(1deg) scale(1.01); }
  .card-edge-highlight {
    position: absolute; top: 0; left: 0; right: 0; height: 1px;
    background: linear-gradient(90deg, rgba(255,255,255,0.20) 0%, rgba(255,255,255,0.03) 100%);
    pointer-events: none; z-index: 5;
  }
  .credit-card-visual.brand-visa, .credit-card-visual-lg.brand-visa { background: linear-gradient(135deg, #0c2d7a, #1e40af, #3b6cf5); }
  .credit-card-visual.brand-mastercard, .credit-card-visual-lg.brand-mastercard { background: linear-gradient(135deg, #0d0d1f, #16213e, #1a3a6a); }
  .credit-card-visual.brand-elo, .credit-card-visual-lg.brand-elo { background: linear-gradient(135deg, #111, #2d2d2d, #3d3d3d); }
  .credit-card-visual.brand-amex, .credit-card-visual-lg.brand-amex { background: linear-gradient(135deg, #043b2e, #047857, #10b981); }
  .credit-card-visual.brand-hipercard, .credit-card-visual-lg.brand-hipercard { background: linear-gradient(135deg, #5c1a08, #9a3412, #ea580c); }
  .credit-card-visual.brand-default, .credit-card-visual-lg.brand-default { background: linear-gradient(135deg, #0f172a, #334155, #64748b); }
  .card-chip { width: 2rem; height: 1.375rem; border-radius: 4px; background: linear-gradient(135deg, #d4a843, #c9952f, #e8c252, #d4a843); position: relative; box-shadow: inset 0 0 0 1px rgba(0,0,0,0.15), 0 1px 2px rgba(0,0,0,0.2); }
  .card-chip-lg { width: 2.75rem; height: 2rem; border-radius: 5px; background: linear-gradient(135deg, #d4a843, #c9952f, #e8c252, #d4a843); position: relative; box-shadow: inset 0 0 0 1px rgba(0,0,0,0.15), 0 1px 3px rgba(0,0,0,0.2); }

  /* Values */
  .value-positive { color: var(--green); }
  .value-negative { color: var(--red); }

  /* Glass */
  .glass { background: hsl(var(--card) / 0.8); backdrop-filter: blur(16px); border: 1px solid var(--border-1); }

  /* Sidebar navigation */
  .nav-item-active { @apply bg-sidebar-accent text-sidebar-primary; }
  .sidebar-nav-link.active { box-shadow: inset 3px 0 0 0 hsl(var(--sidebar-primary)); }
  .sidebar-section-header {
    font-family: 'Geist', sans-serif; font-size: 0.6875rem; font-weight: 700;
    text-transform: uppercase; letter-spacing: 1.2px; color: hsl(var(--sidebar-section));
  }
  .sidebar-badge {
    min-width: 22px; height: 22px; padding: 0 5px;
    background: hsl(var(--sidebar-primary) / 0.1); border: 1px solid hsl(var(--sidebar-primary) / 0.2);
    border-radius: 6px; font-size: 0.7rem; font-weight: 700; color: hsl(var(--sidebar-primary));
    display: flex; align-items: center; justify-content: center;
  }
  .sidebar-nav-item { transition: all 0.2s cubic-bezier(0.4,0,0.2,1); border-radius: 8px; }
  .sidebar-nav-item:hover { background: hsl(var(--sidebar-accent)); }
  .sidebar-nav-item.active { background: hsl(var(--sidebar-active-bg)); font-weight: 600; }
  .sidebar-icon { width: 20px; height: 20px; opacity: 0.65; transition: opacity 0.2s; }
  .sidebar-nav-item:hover .sidebar-icon, .sidebar-nav-item.active .sidebar-icon { opacity: 1; }
  .sidebar-glass { background: hsl(var(--sidebar-background)); backdrop-filter: blur(16px); }

  /* Drag handle */
  .drag-handle { @apply transition-opacity duration-200; }
  @media (hover: none) { .drag-handle { @apply opacity-60; } }

  /* Agent messages */
  .agent-msg-bot { background: var(--surface-2); color: var(--text-2); border-radius: 8px; padding: 10px 14px; font-size: 13px; line-height: 1.5; }
  .agent-msg-highlight { background: var(--accent-glow); color: var(--accent); border: 1px solid rgba(59,130,246,0.15); border-radius: 8px; padding: 10px 14px; font-size: 13px; line-height: 1.5; }
  .agent-msg-warning { background: var(--red-glow); color: var(--red); border: 1px solid rgba(239,68,68,0.15); border-radius: 8px; padding: 10px 14px; font-size: 13px; line-height: 1.5; }
}

@layer utilities {
  .text-balance { text-wrap: balance; }
  .gradient-text {
    @apply bg-clip-text text-transparent;
    background: linear-gradient(135deg, #3B82F6, #60A5FA);
    -webkit-background-clip: text;
  }
  .font-geist-mono { font-family: 'Geist Mono', 'JetBrains Mono', monospace; }

  /* Animations */
  @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  @keyframes slideIn { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
  @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 8px rgba(59,130,246,0.3); } 50% { box-shadow: 0 0 24px rgba(59,130,246,0.5); } }
  @keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
  @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-6px); } }
  @keyframes rise-float { 0% { transform: translateY(0); opacity: 0; } 8% { transform: translateY(-48px); opacity: 1; } 82% { transform: translateY(-492px); opacity: 1; } 96% { transform: translateY(-576px); opacity: 0; } 100% { transform: translateY(-600px); opacity: 0; } }
  @keyframes scrollUp { 0% { transform: translateY(0%); } 100% { transform: translateY(-33.333%); } }

  .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
  .animate-slide-in { animation: slideIn 0.3s ease-out forwards; }
  .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
  .animate-shimmer { animation: shimmer 2s infinite; }
  .animate-float { animation: float 3s ease-in-out infinite; }

  /* Scrollbars — 3px, midnight theme */
  .midnight-scrollbar { scrollbar-width: thin; scrollbar-color: var(--border-1) transparent; }
  .midnight-scrollbar::-webkit-scrollbar { width: 3px; }
  .midnight-scrollbar::-webkit-scrollbar-track { background: transparent; }
  .midnight-scrollbar::-webkit-scrollbar-thumb { background: var(--border-1); border-radius: 9999px; }
  .midnight-scrollbar::-webkit-scrollbar-thumb:hover { background: var(--border-2); }

  .assets-scrollbar { scrollbar-width: thin; scrollbar-color: var(--border-1) transparent; }
  .assets-scrollbar::-webkit-scrollbar { width: 3px; }
  .assets-scrollbar::-webkit-scrollbar-track { background: transparent; }
  .assets-scrollbar::-webkit-scrollbar-thumb { background: var(--border-1); border-radius: 3px; }

  .transactions-scrollbar { scrollbar-width: thin; scrollbar-color: var(--border-1) transparent; }
  .transactions-scrollbar::-webkit-scrollbar { width: 3px; height: 3px; }
  .transactions-scrollbar::-webkit-scrollbar-track { background: transparent; }
  .transactions-scrollbar::-webkit-scrollbar-thumb { background: var(--border-1); border-radius: 9999px; }
  .transactions-scrollbar::-webkit-scrollbar-corner { background: transparent; }

  .smart-scrollbar { scrollbar-width: thin; scrollbar-color: transparent transparent; transition: scrollbar-color 0.3s; }
  .smart-scrollbar:hover { scrollbar-color: var(--border-1) transparent; }
  .smart-scrollbar::-webkit-scrollbar { width: 3px; }
  .smart-scrollbar::-webkit-scrollbar-track { background: transparent; }
  .smart-scrollbar::-webkit-scrollbar-thumb { background: transparent; border-radius: 9999px; transition: background 0.3s; }
  .smart-scrollbar:hover::-webkit-scrollbar-thumb { background: var(--border-1); }

  .comments-table-scrollbar { scrollbar-width: thin; scrollbar-color: rgba(59,130,246,0.2) transparent; }
  .comments-table-scrollbar::-webkit-scrollbar { width: 3px; height: 3px; }
  .comments-table-scrollbar::-webkit-scrollbar-track { background: transparent; }
  .comments-table-scrollbar::-webkit-scrollbar-thumb { background: rgba(59,130,246,0.2); border-radius: 3px; }
}
